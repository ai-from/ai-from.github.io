(function(t){function e(e){for(var o,i,r=e[0],c=e[1],l=e[2],u=0,d=[];u<r.length;u++)i=r[u],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&d.push(a[i][0]),a[i]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);h&&h(e);while(d.length)d.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],o=!0,i=1;i<n.length;i++){var r=n[i];0!==a[r]&&(o=!1)}o&&(s.splice(e--,1),t=c(c.s=n[0]))}return t}var o={},i={app:0},a={app:0},s=[];function r(t){return c.p+"js/"+({}[t]||t)+"."+{"chunk-2d22996d":"fad025d1","chunk-3c9147eb":"f0f3a91a","chunk-515d8548":"e96e2b10"}[t]+".js"}function c(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(t){var e=[],n={"chunk-3c9147eb":1,"chunk-515d8548":1};i[t]?e.push(i[t]):0!==i[t]&&n[t]&&e.push(i[t]=new Promise((function(e,n){for(var o="css/"+({}[t]||t)+"."+{"chunk-2d22996d":"31d6cfe0","chunk-3c9147eb":"99919a56","chunk-515d8548":"aeac38d3"}[t]+".css",a=c.p+o,s=document.getElementsByTagName("link"),r=0;r<s.length;r++){var l=s[r],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===o||u===a))return e()}var d=document.getElementsByTagName("style");for(r=0;r<d.length;r++){l=d[r],u=l.getAttribute("data-href");if(u===o||u===a)return e()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=e,h.onerror=function(e){var o=e&&e.target&&e.target.src||a,s=new Error("Loading CSS chunk "+t+" failed.\n("+o+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=o,delete i[t],h.parentNode.removeChild(h),n(s)},h.href=a;var f=document.getElementsByTagName("head")[0];f.appendChild(h)})).then((function(){i[t]=0})));var o=a[t];if(0!==o)if(o)e.push(o[2]);else{var s=new Promise((function(e,n){o=a[t]=[e,n]}));e.push(o[2]=s);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=r(t);var d=new Error;l=function(e){u.onerror=u.onload=null,clearTimeout(h);var n=a[t];if(0!==n){if(n){var o=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+o+": "+i+")",d.name="ChunkLoadError",d.type=o,d.request=i,n[1](d)}a[t]=void 0}};var h=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(e)},c.m=t,c.c=o,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)c.d(n,o,function(e){return t[e]}.bind(null,o));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/todo/",c.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=e,l=l.slice();for(var d=0;d<l.length;d++)e(l[d]);var h=u;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},"03d5":function(t,e,n){"use strict";var o=n("16c1"),i=n.n(o);i.a},"16c1":function(t,e,n){},"215c":function(t,e,n){"use strict";var o=n("4dfd"),i=n.n(o);i.a},"2de0":function(t,e,n){},"306c":function(t,e,n){"use strict";var o=n("bc3a"),i=n.n(o),a=n("9cbb");e["a"]={methods:{updateDatabase:function(){var t=JSON.stringify(this.notes);i.a.post(a["a"].API_URL_UPDATE_NOTES,t).then((function(t){})).catch((function(t){console.log(t)}))}}}},3786:function(t,e,n){"use strict";var o=n("9a28"),i=n.n(o);i.a},"4dfd":function(t,e,n){},"57a6":function(t,e,n){"use strict";var o=n("2de0"),i=n.n(o);i.a},"5ea5":function(t,e,n){},6624:function(t,e,n){"use strict";var o=n("e683"),i=n.n(o);i.a},7518:function(t,e,n){},"767e":function(t,e,n){},"929b":function(t,e,n){"use strict";var o=n("5ea5"),i=n.n(o);i.a},"9a28":function(t,e,n){},"9cbb":function(t,e,n){"use strict";var o="http://todo.just.ru.net/api/notes.php",i="http://todo.just.ru.net/api/updateNotes.php";e["a"]={API_URL_NOTES:o,API_URL_UPDATE_NOTES:i}},aac5:function(t,e,n){"use strict";var o=n("7518"),i=n.n(o);i.a},cd49:function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("vHeader"),n("router-view"),n("vFooter"),n("vModal")],1)},a=[],s=n("5530"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"v-header"},[n("div",{staticClass:"header_inner indent"},[n("router-link",{staticClass:"home",attrs:{exact:"",to:"/",title:"На главную"}},[t._v(" TODO LIST ")]),t.showCreateBtn?n("v-button",{staticClass:"create",attrs:{title:"Создать заметку"},on:{btnclick:t.createNote}}):t._e()],1)])},c=[],l={name:"v-header",data:function(){return{showCreateBtn:!0}},methods:{createNote:function(){"/create"!==this.$route.path&&this.$router.push({name:"create"})}},watch:{$route:{handler:function(){"/create"===this.$route.path?this.showCreateBtn=!1:this.showCreateBtn=!0}}}},u=l,d=(n("57a6"),n("2877")),h=Object(d["a"])(u,r,c,!1,null,"73bb6850",null),f=h.exports,m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"v-footer"},[n("div",{staticClass:"footer_inner indent"},[n("p",[t._v("TODO LIST, "+t._s(t.currentYear))])])])},p=[],v={name:"v-footer",computed:{currentYear:function(){return(new Date).getFullYear()}}},_=v,g=(n("929b"),Object(d["a"])(_,m,p,!1,null,"32ae5db0",null)),b=g.exports,O=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isModalVisible?n("div",{staticClass:"v-modal-wrapper",on:{click:function(e){return e.target!==e.currentTarget?null:t.closeModal(e)}}},[n("div",{staticClass:"v-modal"},[n("v-icon",{staticClass:"close",attrs:{name:"times"},on:{click:t.closeModal}}),n("div",{staticClass:"title"},[t._v(" "+t._s(this.currentMode.title)+" ")]),n("div",{staticClass:"note-name"},[t._v(t._s(this.workingNote.title))]),n("div",{staticClass:"buttons"},[n("v-button",{attrs:{title:t.btnCancel.title,icon:t.btnCancel.icon,type:t.btnCancel.type},on:{btnclick:t.btnCancel.event}}),n("v-button",{attrs:{title:t.currentMode.button.title,icon:t.currentMode.button.icon,type:t.currentMode.button.type},on:{btnclick:t.currentMode.button.event}})],1)],1)]):t._e()},E=[],T=n("2f62"),N=n("306c"),S={name:"v-modal",data:function(){return{localNote:null,btnCancel:{title:"Нет",icon:"times",type:"cancel",event:this.closeModal},modalMode:{deleteMode:{title:"Вы уверены, что хотите удалить эту заметку?",button:{title:"Да",icon:"check",type:"",event:this.deleteNote}},cancelMode:{title:"Отменить изменения для текущей заметки?",button:{title:"Да",icon:"check",type:"",event:this.cancelChanges}}}}},mixins:[N["a"]],computed:Object(s["a"])({},Object(T["c"])({isModalVisible:function(t){return t.mModal.isModalVisible},notes:function(t){return t.mNotes.notes},workingNote:function(t){return t.mModal.workingNote},mode:function(t){return t.mModal.modalMode}}),{deleteMode:function(){return"deleteNote"===this.mode},currentMode:function(){return"deleteNote"===this.mode?this.modalMode.deleteMode:this.modalMode.cancelMode}}),methods:Object(s["a"])({},Object(T["b"])(["CLOSE_MODAL","DELETE_NOTE_BY_ID","UPDATE_NOTE","UPDATE_LOCAL_NOTE"]),{closeModal:function(){this.CLOSE_MODAL()},deleteNote:function(){this.DELETE_NOTE_BY_ID(this.workingNote.id),this.updateDatabase(),this.CLOSE_MODAL(),"/"!==this.$route.path&&this.$router.push({name:"home"})},cancelChanges:function(){this.localNote=JSON.parse(localStorage.getItem("startState")),this.UPDATE_NOTE(this.localNote),this.UPDATE_LOCAL_NOTE(),this.CLOSE_MODAL(),this.updateDatabase()}})},y=S,C=(n("215c"),Object(d["a"])(y,O,E,!1,null,"57520ea5",null)),D=C.exports,w=n("bc3a"),P=n.n(w),M=n("9cbb"),k={components:{vHeader:f,vFooter:b,vModal:D},methods:Object(s["a"])({},Object(T["b"])(["SET_NOTES"]),{getNotesByAPI:function(){var t=this;P.a.get(M["a"].API_URL_NOTES).then((function(e){t.SET_NOTES(e.data)})).catch((function(t){console.log(t)}))}}),created:function(){this.getNotesByAPI()}},L=k,A=Object(d["a"])(L,i,a,!1,null,null,null),I=A.exports,j=n("9483");Object(j["a"])("".concat("/todo/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});n("d3b7");var B=n("8c4f"),x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home indent"},[n("vNotes")],1)},$=[],U=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"v-notes"},[t.isNotes?[n("div",{staticClass:"notes_items"},t._l(t.itemsToShow,(function(t,e){return n("vNote",{key:e,attrs:{note:t}})})),1),n("vPagination",{attrs:{localItems:t.notes,itemsOnPage:t.itemsOnPage},on:{pagechange:t.pageChange}})]:[n("p",{staticClass:"notification"},[t._v("Не найдено ни одной заметки")])]],2)},F=[],H=(n("fb6a"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"v-note"},[n("v-icon",{staticClass:"delete",attrs:{name:"times",title:"Удалить"},on:{click:t.deleteNote}}),n("div",{staticClass:"inner"},[n("div",{staticClass:"title"},[t._v(t._s(this.note.title))]),n("div",{staticClass:"todos"},t._l(t.slicedTodos,(function(e,o){return n("div",{key:o,staticClass:"todo"},[n("label",{staticClass:"name",attrs:{for:"todo_id_"+t.note.id+"_"+o}},[t._v(" "+t._s(e.name)+" ")]),n("input",{attrs:{id:"todo_id_"+t.note.id+"_"+o,type:"checkbox",disabled:"false"},domProps:{checked:e.checked}})])})),0),t._v(" "),n("v-button",{attrs:{title:"Редактировать",icon:"pencil-alt"},on:{btnclick:t.editNote}})],1)],1)}),W=[],Y={name:"v-note",data:function(){return{maxItemsInTodos:5}},props:{note:{type:Object,default:{}}},computed:{slicedTodos:function(){return this.note.todos.slice(0,this.maxItemsInTodos)}},methods:Object(s["a"])({},Object(T["b"])(["SET_EDIT_MODE","SET_EDITING_NOTE","SHOW_MODAL"]),{editNote:function(){this.$router.push({name:"edit"}),this.SET_EDIT_MODE(!0),this.SET_EDITING_NOTE(this.note);var t=JSON.stringify(this.note);localStorage.setItem("startState",t),localStorage.setItem("middleState",t),localStorage.setItem("endState",t)},deleteNote:function(){this.SHOW_MODAL({mode:"deleteNote",obj:this.note})}})},R=Y,V=(n("3786"),Object(d["a"])(R,H,W,!1,null,"65026103",null)),G=V.exports,J=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isPaginationShow?n("div",{staticClass:"v-pagination"},[n("div",{staticClass:"inner_wrapper"},[t.isArrowShow?n("div",{staticClass:"btn btnLeft"},[n("v-icon",{attrs:{name:"chevron-left"},on:{click:t.arrowLeft}})],1):t._e(),n("div",{staticClass:"items",class:t.classNames},[n("div",{ref:"btnItems",staticClass:"items_wrapper"},t._l(t.arrayButtons,(function(e,o){return n("div",{key:o,staticClass:"item",class:{active:e.name==t.activePage},on:{click:function(e){return t.changePage(o)}}},[t._v(" "+t._s(e.name)+" ")])})),0)]),t._v(" "),t.isArrowShow?n("div",{staticClass:"btn btnRight"},[n("v-icon",{attrs:{name:"chevron-right"},on:{click:t.arrowRight}})],1):t._e()])]):t._e()},q=[],K=(n("a9e3"),{name:"v-pagination",data:function(){return{buttonsToShow:4,activePage:1,buttonsPosition:0}},props:{itemsOnPage:{type:Number,default:6},localItems:{type:null,default:null},isFirstPage:{type:Boolean,default:!1},isNothingFound:{type:Boolean,default:!1}},computed:{classNames:function(){return{four:4===this.arrayButtons.length,three:3===this.arrayButtons.length,two:2===this.arrayButtons.length,one:1===this.arrayButtons.length,more:this.arrayButtons.length>4}},isPaginationShow:function(){return this.arrayButtons.length>1&&!this.isNothingFound},isArrowShow:function(){return this.arrayButtons.length>this.buttonsToShow},arrayButtons:function(){var t=0;t=this.localItems.length%this.itemsOnPage>0?Math.floor(this.localItems.length/this.itemsOnPage)+1:this.localItems.length/this.itemsOnPage;for(var e=[],n=0;n<t;n++)e.push({name:n+1});return e}},methods:{changePage:function(t){this.activePage=t+1,this.$emit("pagechange",t)},arrowLeft:function(){this.buttonsPosition<0&&(this.buttonsPosition+=40,this.$refs.btnItems.style.left=this.buttonsPosition+"px")},arrowRight:function(){this.buttonsPosition>-40*(this.arrayButtons.length-this.buttonsToShow)&&(this.buttonsPosition-=40,this.$refs.btnItems.style.left=this.buttonsPosition+"px")}},watch:{isFirstPage:function(t,e){t!==e&&this.changePage(0)},localItems:function(){this.localItems.length%this.itemsOnPage===0&&this.activePage--}}}),z=K,Q=(n("aac5"),Object(d["a"])(z,J,q,!1,null,"7e22385d",null)),X=Q.exports,Z={name:"v-notes",data:function(){return{startFrom:0,itemsOnPage:6}},components:{vNote:G,vPagination:X},computed:Object(s["a"])({},Object(T["c"])({notes:function(t){return t.mNotes.notes}}),{isNotes:function(){return this.notes.length>0},itemsToShow:function(){var t=this.notes;return t.slice(this.startFrom,this.startFrom+this.itemsOnPage)}}),methods:{pageChange:function(t){this.startFrom=t*this.itemsOnPage}},watch:{itemsToShow:function(){this.notes.length>this.itemsOnPage&&0===this.itemsToShow.length?this.startFrom-=this.itemsOnPage:this.notes.length===this.itemsOnPage&&(this.startFrom=0)}}},tt=Z,et=(n("6624"),Object(d["a"])(tt,U,F,!1,null,"6aaa92f7",null)),nt=et.exports,ot={name:"Home",components:{vNotes:nt},mounted:function(){localStorage.clear()}},it=ot,at=Object(d["a"])(it,x,$,!1,null,"50b1cabc",null),st=at.exports;o["a"].use(B["a"]);var rt=[{path:"/",name:"home",component:st,meta:{title:"TODO | Home"}},{path:"/create",name:"create",component:function(){return n.e("chunk-3c9147eb").then(n.bind(null,"d879"))},meta:{title:"TODO | Create"}},{path:"/edit",name:"edit",component:function(){return n.e("chunk-515d8548").then(n.bind(null,"1071"))},meta:{title:"TODO | Edit"}},{path:"/error",name:"error",component:function(){return n.e("chunk-2d22996d").then(n.bind(null,"dda8"))},meta:{title:"TODO | Error"}},{path:"*",redirect:"error"}],ct=new B["a"]({mode:"history",base:"/todo/",routes:rt});ct.beforeEach((function(t,e,n){document.title=t.meta.title,n()}));var lt=ct,ut=(n("4de4"),n("4160"),n("159b"),{state:{isEditMode:!1,editingNote:{},notes:[]},mutations:{SET_NOTES:function(t,e){t.notes=e},SET_EDIT_MODE:function(t,e){t.isEditMode=e},SET_EDITING_NOTE:function(t,e){t.editingNote=e},DELETE_NOTE_BY_ID:function(t,e){t.notes=t.notes.filter((function(t){return t.id!==e})),t.noteToDeleteId=0},ADD_NEW_NOTE:function(t,e){t.notes.unshift(e)},UPDATE_NOTE:function(t,e){t.notes;t.notes.forEach((function(t,n,o){t.id===e.id&&(o[n]=e)}))}},actions:{SET_NOTES:function(t,e){var n=t.commit;n("SET_NOTES",e)},SET_EDIT_MODE:function(t,e){var n=t.commit;n("SET_EDIT_MODE",e)},SET_EDITING_NOTE:function(t,e){var n=t.commit;n("SET_EDITING_NOTE",e)},DELETE_NOTE_BY_ID:function(t,e){var n=t.commit;n("DELETE_NOTE_BY_ID",e)},ADD_NEW_NOTE:function(t,e){var n=t.commit;n("ADD_NEW_NOTE",e)},UPDATE_NOTE:function(t,e){var n=t.commit;n("UPDATE_NOTE",e)}},getters:{}}),dt={state:{isModalVisible:!1,modalMode:"",workingNote:{},updateLocalNote:!1},mutations:{SHOW_MODAL:function(t,e){t.isModalVisible=!0,t.modalMode=e.mode,t.workingNote=e.obj},CLOSE_MODAL:function(t){t.isModalVisible=!1},UPDATE_LOCAL_NOTE:function(t){t.updateLocalNote=!t.updateLocalNote}},actions:{SHOW_MODAL:function(t,e){var n=t.commit;n("SHOW_MODAL",e)},CLOSE_MODAL:function(t){var e=t.commit;e("CLOSE_MODAL")},UPDATE_LOCAL_NOTE:function(t){var e=t.commit;e("UPDATE_LOCAL_NOTE")}},getters:{}};o["a"].use(T["a"]);var ht=new T["a"].Store({state:{},mutations:{},actions:{},getters:{},modules:{mNotes:ut,mModal:dt}}),ft=(n("d06d"),n("0874")),mt=(n("767e"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"v-button"},[n("div",{staticClass:"button",class:t.classNames,on:{click:t.btnClick}},[n("div",{staticClass:"inner_wrap"},[n("span",[t._v(t._s(t.title))]),n("v-icon",{attrs:{name:t.icon,scale:".7"}})],1)])])}),pt=[],vt={name:"v-button",props:{title:{type:String,default:"Название кнопки"},icon:{type:String,default:"plus"},type:{type:String,default:""}},methods:{btnClick:function(){this.$emit("btnclick")}},computed:{classNames:function(){return{cancel:"cancel"===this.type,error:"error"===this.type}}}},_t=vt,gt=(n("03d5"),Object(d["a"])(_t,mt,pt,!1,null,"061d6f31",null)),bt=gt.exports;o["a"].component("v-icon",ft["a"]),o["a"].component("v-button",bt),o["a"].config.productionTip=!1,new o["a"]({router:lt,store:ht,render:function(t){return t(I)}}).$mount("#app")},e683:function(t,e,n){}});
//# sourceMappingURL=app.7201e9e8.js.map